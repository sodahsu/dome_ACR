<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>首頁</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- FontAwesome 5 Free CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
        integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': '#6C936D',
                        'secondary': '#3F5146',
                        'accent': '#417991',
                        'danger': '#DC3545',
                        'warning': '#EAD065',
                        'gray-light': '#F8F9FA',
                        'gray-medium': '#6C757D',
                        'gray-dark': '#495057',
                        'border': '#ADB5BD',
                        'green-light': '#C5E0C7',
                        'bg-light': '#F3F3F3',
                        'bg-success': '#D1E7DD',
                        'text-success': '#0F5132',
                        'bg-info': '#CFF4FC',
                        'text-info': '#0C7489',
                        'bg-warning': '#FFF3CD',
                        'text-warning': '#664D03',
                        'bg-danger': '#F8D7DA',
                        'text-danger': '#842029'
                    },
                    fontFamily: {
                        'noto': ['Noto Sans TC', 'sans-serif']
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-bg-light font-noto">
    <!-- 引入 header.html -->
    <div id="header"></div>
    <script>
        fetch('header.html')
            .then(response => response.text())
            .then(html => {
                document.getElementById('header').innerHTML = html;
                // 手動初始化 header 功能
                if (window.initializeHeader) {
                    window.initializeHeader();
                }
            });
    </script>
    <script src="header-utils.js"></script>

    <!-- 主要內容 -->
    <main class="w-full max-w-[1440px] mx-auto p-4 space-y-6">
        <!-- 最新公告：獨佔一列 -->
        <div>
            <div class="bg-white shadow-lg rounded-lg mb-4 overflow-hidden">
                <!-- 區塊標題 -->
                <div class="bg-secondary text-white p-3 flex items-center gap-2">
                    <i class="fas fa-dot-circle w-4 h-4"></i>
                    <span class="font-bold text-xl">最新公告</span>
                </div>

                <!-- 公告內容 -->
                <div class="p-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex text-sm border-b border-gray-200 pb-2">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/06/15
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">蛇隨時出沒！提升防範宣導
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                為提高社區居民對蛇類防範意識，屏東縣政府將於本週末舉辦相關說明會，歡迎踴躍參加。</div>
                        </div>
                        <div class="flex text-sm border-b border-gray-200 pb-2">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/05/20
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">蜂巢移除作業說明
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                提醒民眾如在住宅區發現蜂巢，請勿自行處理，應聯繫動保單位進行安全移除。
                            </div>
                        </div>
                        <div class="flex text-sm border-b border-gray-200 pb-2">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/04/30
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">春季動物救援志工招募
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                春暖花開之際，縣府動物救援中心開放志工報名，一同守護縣內動物安全。
                            </div>
                        </div>
                        <div class="flex text-sm border-b border-gray-200 pb-2">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/04/10
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">意外通報系統維護公告
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                本系統將於週末進行例行維護，期間通報功能暫停，造成不便敬請見諒。</div>
                        </div>
                        <div class="flex text-sm border-b border-gray-200 pb-2">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/03/25
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">蛇蛇不寒假：寒冬巡檢啟動
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                考量寒冬期間，縣府將加強野外巡檢，請民眾留意周遭環境並提高警覺。</div>
                        </div>
                        <div class="flex text-sm">
                            <div class="w-24 bg-green-light px-2 py-1 text-center text-secondary font-medium">114/03/01
                            </div>
                            <div class="flex-1 px-3 py-1 font-medium text-secondary truncate">蜂窩結構研究成果發表
                            </div>
                            <div class="w-80 px-3 py-1 text-gray-medium truncate hidden md:block">
                                縣府與大學團隊合作，針對蜂窩結構進行研究，成果將在下月研討會中展示。</div>
                        </div>
                    </div>

                    <!-- 分頁 -->
                    <div class="flex justify-center items-center mt-4 gap-0">
                        <button
                            class="px-3 py-2 border border-gray-300 bg-white text-gray-medium text-sm rounded-l">上一頁</button>
                        <button class="px-3 py-2 border border-gray-300 bg-white text-gray-medium text-sm">1</button>
                        <button class="px-3 py-2 border border-primary bg-primary text-white text-sm">2</button>
                        <button class="px-3 py-2 border border-gray-300 bg-white text-gray-medium text-sm">3</button>
                        <button
                            class="px-3 py-2 border border-gray-300 bg-white text-gray-medium text-sm rounded-r">下一頁</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- 案件列表與地圖資訊：並排一列，高度一致 -->
        <div class="flex flex-col md:flex-row gap-6 items-start">
            <!-- 案件列表 -->
            <div class="flex-1 min-w-0 flex flex-col">
                <div class="bg-white shadow-lg rounded-lg mb-4 overflow-hidden flex flex-col h-fit">
                    <!-- 區塊標題 -->
                    <div class="bg-white border-b border-gray-200 p-3 flex items-center gap-2">
                        <i class="fas fa-dot-circle w-4 h-4"></i>
                        <span class="font-bold text-xl text-secondary">案件列表</span>
                    </div>

                    <!-- 搜尋區域 -->
                    <div class="px-4 py-3 bg-white">
                        <div class="flex flex-wrap gap-2 items-center">
                            <input type="text" placeholder="搜尋地區、案件編號"
                                class="flex-1 min-w-[180px] border border-gray-300 rounded px-3 py-2 text-sm">
                            <select class="min-w-[100px] border border-gray-300 rounded px-3 py-2 text-sm">
                                <option>全部</option>
                            </select>
                            <button
                                class="ml-auto bg-primary text-white px-4 py-2 rounded text-sm flex items-center gap-1">
                                <i class="fas fa-search w-4 h-4"></i>
                                查詢
                            </button>
                        </div>
                    </div>

                    <!-- Tab 區域 -->
                    <div class="px-4 bg-white">
                        <div class="flex border-b flex-wrap" id="caseTabs">
                            <button class="px-3 py-2 border-b-4 border-secondary text-secondary font-bold text-sm"
                                data-tab="all">全部
                            </button>
                            <button class="px-3 py-2 border-b-4 border-transparent text-gray-medium text-sm"
                                data-tab="pending">待處理</button>
                            <button class="px-3 py-2 border-b-4 border-transparent text-gray-medium text-sm"
                                data-tab="assigned">已指派</button>
                            <button class="px-3 py-2 border-b-4 border-transparent text-gray-medium text-sm"
                                data-tab="processed">已處理/審核退回</button>
                            <button class="px-3 py-2 border-b-4 border-transparent text-gray-medium text-sm"
                                data-tab="reviewing">審核中</button>
                            <button class="px-3 py-2 border-b-4 border-transparent text-gray-medium text-sm"
                                data-tab="completed">審核完成</button>
                        </div>
                    </div>

                    <!-- 案件列表 -->
                    <div class="p-4 space-y-4" id="caseList">
                        <!-- 待處理案件 -->
                        <div class="case-card" data-status="pending">
                            <div class="border border-gray-300 rounded-lg p-3">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex gap-2 items-center">
                                        <span
                                            class="text-sm font-bold text-secondary bg-white px-2 py-1 rounded">立案編號</span>
                                        <span class="text-sm text-gray-dark ml-2">20250131115010001</span>
                                    </div>
                                    <button
                                        class="bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1 hidden lg:flex">
                                        <i class="fas fa-file-export w-3 h-3"></i>
                                        匯出
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-clock w-4 h-4"></i>
                                            <span>通報</span>
                                            <span>09:15:30</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-map-marker-alt w-4 h-4"></i>
                                            <span>地址</span>
                                            <span>屏東縣屏東市民族路123號</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-user-circle w-4 h-4"></i>
                                            <span>通報人</span>
                                            <span>陳小姐 0912-345678</span>
                                        </div>
                                    </div>

                                    <div class="flex items-end justify-start lg:justify-end">
                                        <div class="text-left lg:text-right space-y-2">
                                            <div class="flex items-center gap-2 bg-gray-200 px-3 py-1 rounded">
                                                <i class="fas fa-hourglass-start w-4 h-4"></i>
                                                <span class="text-sm font-medium text-gray-700">待處理</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <div class="bg-warning px-2 py-1 rounded text-xs text-gray-800">捕蜂</div>
                                                <i class="fas fa-user-times w-4 h-4"></i>
                                                <span class="text-sm text-gray-dark">外勤人員：尚未指派</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 已指派案件 -->
                        <div class="case-card" data-status="assigned">
                            <div class="border border-accent rounded-lg p-3">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex gap-2 items-center">
                                        <span
                                            class="text-sm font-bold text-secondary bg-white px-2 py-1 rounded">立案編號</span>
                                        <span class="text-sm text-gray-dark ml-2">20250131115010002</span>
                                    </div>
                                    <button
                                        class="bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1 hidden lg:flex">
                                        <i class="fas fa-file-export w-3 h-3"></i>
                                        匯出
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-clock w-4 h-4"></i>
                                            <span>通報</span>
                                            <span>08:30:15</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-map-marker-alt w-4 h-4"></i>
                                            <span>地址</span>
                                            <span>屏東縣屏東市中山路456號</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-user-circle w-4 h-4"></i>
                                            <span>通報人</span>
                                            <span>林先生 0987-654321</span>
                                        </div>
                                    </div>

                                    <div class="flex items-end justify-start lg:justify-end">
                                        <div class="text-left lg:text-right space-y-2">
                                            <div class="flex items-center gap-2 bg-accent px-3 py-1 rounded">
                                                <i class="fas fa-user-check w-4 h-4"></i>
                                                <span class="text-sm font-medium text-white">已指派</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <div class="bg-primary px-2 py-1 rounded text-xs text-white">捉蛇</div>
                                                <i class="fas fa-user-alt w-4 h-4"></i>
                                                <span class="text-sm text-gray-dark">外勤人員：王大明</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 已處理/審核退回案件 -->
                        <div class="case-card" data-status="processed">
                            <div class="border border-warning rounded-lg p-3">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex gap-2 items-center">
                                        <span
                                            class="text-sm font-bold text-secondary bg-white px-2 py-1 rounded">立案編號</span>
                                        <span class="text-sm text-gray-dark ml-2">20250131115010003</span>
                                    </div>
                                    <button
                                        class="bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1 hidden lg:flex">
                                        <i class="fas fa-file-export w-3 h-3"></i>
                                        匯出
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-clock w-4 h-4"></i>
                                            <span>通報</span>
                                            <span>14:20:45</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-map-marker-alt w-4 h-4"></i>
                                            <span>地址</span>
                                            <span>屏東縣屏東市公園路789號</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-user-circle w-4 h-4"></i>
                                            <span>通報人</span>
                                            <span>張女士 0923-456789</span>
                                        </div>
                                    </div>

                                    <div class="flex items-end justify-start lg:justify-end">
                                        <div class="text-left lg:text-right space-y-2">
                                            <div class="flex items-center gap-2 bg-warning px-3 py-1 rounded">
                                                <i class="fas fa-undo w-4 h-4"></i>
                                                <span class="text-sm font-medium text-gray-800">審核退回</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <div class="bg-green-light px-2 py-1 rounded text-xs text-secondary">
                                                    動物救援</div>
                                                <i class="fas fa-user-alt w-4 h-4"></i>
                                                <span class="text-sm text-gray-dark">外勤人員：李小華</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 審核中案件 -->
                        <div class="case-card" data-status="reviewing">
                            <div class="border border-blue-300 rounded-lg p-3">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex gap-2 items-center">
                                        <span
                                            class="text-sm font-bold text-secondary bg-white px-2 py-1 rounded">立案編號</span>
                                        <span class="text-sm text-gray-dark ml-2">20250131115010004</span>
                                    </div>
                                    <button
                                        class="bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1 hidden lg:flex">
                                        <i class="fas fa-file-export w-3 h-3"></i>
                                        匯出
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-clock w-4 h-4"></i>
                                            <span>通報</span>
                                            <span>10:45:20</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-map-marker-alt w-4 h-4"></i>
                                            <span>地址</span>
                                            <span>屏東縣屏東市建國路321號</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-user-circle w-4 h-4"></i>
                                            <span>通報人</span>
                                            <span>黃先生 0934-567890</span>
                                        </div>
                                    </div>

                                    <div class="flex items-end justify-start lg:justify-end">
                                        <div class="text-left lg:text-right space-y-2">
                                            <div class="flex items-center gap-2 bg-blue-200 px-3 py-1 rounded">
                                                <i class="fas fa-search w-4 h-4"></i>
                                                <span class="text-sm font-medium text-blue-800">審核中</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <div class="bg-green-600 px-2 py-1 rounded text-xs text-white">綠鬣蜥</div>
                                                <i class="fas fa-user-alt w-4 h-4"></i>
                                                <span class="text-sm text-gray-dark">外勤人員：劉大偉</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 審核完成案件 -->
                        <div class="case-card" data-status="completed">
                            <div class="border border-green-400 rounded-lg p-3">
                                <div class="flex items-center justify-between mb-3">
                                    <div class="flex gap-2 items-center">
                                        <span
                                            class="text-sm font-bold text-secondary bg-white px-2 py-1 rounded">立案編號</span>
                                        <span class="text-sm text-gray-dark ml-2">20250131115010005</span>
                                    </div>
                                    <button
                                        class="bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1 hidden lg:flex">
                                        <i class="fas fa-file-export w-3 h-3"></i>
                                        匯出
                                    </button>
                                </div>

                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-4">
                                    <div class="space-y-2">
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-clock w-4 h-4"></i>
                                            <span>通報</span>
                                            <span>07:15:10</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-map-marker-alt w-4 h-4"></i>
                                            <span>地址</span>
                                            <span>屏東縣屏東市勝利路654號</span>
                                        </div>
                                        <div class="flex items-center gap-2 text-sm text-gray-dark">
                                            <i class="fas fa-user-circle w-4 h-4"></i>
                                            <span>通報人</span>
                                            <span>吳小姐 0945-678901</span>
                                        </div>
                                    </div>

                                    <div class="flex items-end justify-start lg:justify-end">
                                        <div class="text-left lg:text-right space-y-2">
                                            <div class="flex items-center gap-2 bg-green-200 px-3 py-1 rounded">
                                                <i class="fas fa-check-circle w-4 h-4"></i>
                                                <span class="text-sm font-medium text-green-800">審核完成</span>
                                            </div>
                                            <div class="flex items-center gap-2">
                                                <div class="bg-warning px-2 py-1 rounded text-xs text-gray-800">捕蜂</div>
                                                <i class="fas fa-user-alt w-4 h-4"></i>
                                                <span class="text-sm text-gray-dark">外勤人員：趙志明</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 地圖資訊 -->
            <div class="flex-1 min-w-0 flex flex-col">
                <div class="bg-white shadow-lg rounded-lg mb-4 overflow-hidden flex flex-col h-[580px]">
                    <!-- 區塊標題 -->
                    <div class="bg-white border-b border-gray-200 p-3 flex items-center gap-2 flex-shrink-0">
                        <i class="fas fa-dot-circle w-4 h-4"></i>
                        <span class="font-bold text-xl text-secondary">地圖資訊</span>
                    </div>
                    <!-- 控制區域 -->
                    <div class="p-4 flex flex-col gap-2 flex-shrink-0">
                        <div class="flex flex-wrap gap-4 items-center mb-2">
                            <div class="flex gap-2 items-center">
                                <label class="text-sm text-gray-dark">年度</label>
                                <select class="border border-gray-300 rounded px-2 py-1 text-sm">
                                    <option>114 年度</option>
                                </select>
                            </div>
                            <div class="flex gap-2 items-center">
                                <label class="text-sm text-gray-dark">月份</label>
                                <select class="border border-gray-300 rounded px-2 py-1 text-sm">
                                    <option>7 月</option>
                                </select>
                            </div>
                            <button
                                class="ml-auto bg-primary text-white px-3 py-1 rounded text-sm flex items-center gap-1">
                                <i class="fas fa-file-export w-4 h-4"></i>匯出地圖
                            </button>
                        </div>
                        <div class="flex gap-2 items-center mb-2">
                            <button class="bg-primary text-white px-3 py-1 rounded text-sm">捕蜂</button>
                            <button class="bg-gray-200 text-secondary px-3 py-1 rounded text-sm">捉蛇</button>
                            <button class="bg-gray-200 text-secondary px-3 py-1 rounded text-sm">動物救援</button>
                            <button class="bg-gray-200 text-secondary px-3 py-1 rounded text-sm">綠鬣蜥</button>
                        </div>
                    </div>
                    <!-- 地圖區域 -->
                    <div class="px-4 pb-2 flex flex-col items-center flex-1 overflow-hidden">
                        <div class="relative flex-1 w-full flex items-center justify-center overflow-hidden">
                            <img id="mapImage" src="img/map.png" alt="map"
                                class="max-w-full max-h-full object-contain cursor-pointer transition-transform duration-300 hover:scale-105">
                            <div class="absolute top-2 right-2 flex flex-col gap-1">
                                <button id="zoomIn"
                                    class="bg-white shadow-md rounded p-1 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-plus text-gray-600 text-sm"></i>
                                </button>
                                <button id="zoomOut"
                                    class="bg-white shadow-md rounded p-1 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-minus text-gray-600 text-sm"></i>
                                </button>
                                <button id="resetZoom"
                                    class="bg-white shadow-md rounded p-1 hover:bg-gray-100 transition-colors">
                                    <i class="fas fa-home text-gray-600 text-sm"></i>
                                </button>
                            </div>
                        </div>
                        <div class="flex gap-4 mt-2 flex-wrap justify-center flex-shrink-0">
                            <div class="flex items-center gap-1">
                                <span class="w-4 h-4 rounded bg-green-200 border border-gray-300"></span>
                                <span class="text-xs text-gray-dark">500 件以下</span>
                            </div>
                            <div class="flex items-center gap-1">
                                <span class="w-4 h-4 rounded bg-green-light border border-gray-300"></span>
                                <span class="text-xs text-gray-dark">500 件以上</span>
                            </div>
                            <div class="flex items-center gap-1">
                                <span class="w-4 h-4 rounded bg-yellow-200 border border-gray-300"></span>
                                <span class="text-xs text-gray-dark">500-1000 件</span>
                            </div>
                            <div class="flex items-center gap-1">
                                <span class="w-4 h-4 rounded bg-orange-200 border border-gray-300"></span>
                                <span class="text-xs text-gray-dark">1000-2000 件</span>
                            </div>
                            <div class="flex items-center gap-1">
                                <span class="w-4 h-4 rounded bg-red-200 border border-gray-300"></span>
                                <span class="text-xs text-gray-dark">2000 件以上</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 指標：滿版一列 -->
        <div>
            <div class="bg-white shadow-lg rounded-lg mb-4 overflow-hidden w-full">
                <!-- 區塊標題 -->
                <div class="bg-white border-b border-gray-200 p-3 flex items-center gap-2">
                    <i class="fas fa-dot-circle w-4 h-4"></i>
                    <span class="font-bold text-xl text-secondary">指標</span>
                </div>
                <!-- 指標內容：橫向排列 -->
                <div class="p-4 flex flex-col gap-4 md:flex-row md:items-center">
                    <!-- 控制區域（左側） -->
                    <div class="flex flex-col gap-2 flex-none">
                        <div class="flex flex-col gap-2 md:flex-row md:gap-4">
                            <div class="grid grid-cols-2 gap-2">
                                <div class="text-center">
                                    <label for="yearSelect" class="text-sm text-gray-medium block">年度</label>
                                    <select id="yearSelect"
                                        class="w-full h-10 text-base font-bold text-secondary bg-white border border-gray-300 rounded px-3 py-2">
                                        <option value="113">113</option>
                                        <option value="112">112</option>
                                        <option value="111">111</option>
                                    </select>
                                </div>
                                <div class="text-center">
                                    <label for="compareYear" class="text-sm text-gray-medium block">比較年度</label>
                                    <select id="compareYear"
                                        class="w-full h-10 text-base font-bold text-secondary bg-white border border-gray-300 rounded px-3 py-2">
                                        <option value="112">112</option>
                                        <option value="111">111</option>
                                    </select>
                                </div>
                                <div class="text-center mt-2">
                                    <label for="monthStart" class="text-sm text-gray-medium block">起始月份</label>
                                    <select id="monthStart"
                                        class="w-full h-10 text-base font-bold text-secondary bg-white border border-gray-300 rounded px-3 py-2">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6">6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                </div>
                                <div class="text-center mt-2">
                                    <label for="monthEnd" class="text-sm text-gray-medium block">結束月份</label>
                                    <select id="monthEnd"
                                        class="w-full h-10 text-base font-bold text-secondary bg-white border border-gray-300 rounded px-3 py-2">
                                        <option value="1">1</option>
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="4">4</option>
                                        <option value="5">5</option>
                                        <option value="6" selected>6</option>
                                        <option value="7">7</option>
                                        <option value="8">8</option>
                                        <option value="9">9</option>
                                        <option value="10">10</option>
                                        <option value="11">11</option>
                                        <option value="12">12</option>
                                    </select>
                                </div>
                            </div>
                            <div class="flex items-end mt-2 md:mt-0">
                                <button id="compareBtn"
                                    class="bg-accent text-white px-4 py-2 rounded text-sm font-bold flex items-center gap-1">
                                    <i class="fas fa-exchange-alt w-4 h-4"></i>比較
                                </button>
                            </div>
                        </div>
                        <!-- 比較結果區塊 -->
                        <div id="compareResult" class="mt-4 hidden">
                            <div class="bg-gray-light border border-gray-300 rounded-lg p-4">
                                <div class="font-bold text-lg mb-2 text-secondary">區間指標比較結果</div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <div class="text-base font-bold text-gray-dark mb-1">本區間</div>
                                        <div id="mainStats" class="space-y-1">
                                            <!-- 動態填入指標數據 -->
                                        </div>
                                    </div>
                                    <div>
                                        <div class="text-base font-bold text-gray-dark mb-1">比較區間</div>
                                        <div id="compareStats" class="space-y-1">
                                            <!-- 動態填入指標數據 -->
                                        </div>
                                    </div>
                                </div>
                                <div id="compareSummary" class="mt-4 text-base text-accent font-bold"></div>
                            </div>
                        </div>
                        <div class="flex gap-2 mt-2">
                            <select class="flex-1 border border-gray-300 rounded px-3 py-2 text-sm">
                                <option>全部</option>
                            </select>
                            <button class="bg-primary text-white px-3 py-2 rounded text-sm flex items-center gap-1">
                                <i class="fas fa-file-export w-3 h-3"></i>匯出
                            </button>
                        </div>
                    </div>
                    <!-- 指標卡片（右側，橫向排列） -->
                    <div class="flex-1 flex flex-col md:flex-row gap-4">
                        <!-- 捕蜂案件數量 -->
                        <div class="border border-warning rounded-lg p-3 flex-1 min-w-[180px]">
                            <div class="text-lg font-bold text-gray-dark mb-2">捕蜂案件數量</div>
                            <div class="text-4xl font-bold text-yellow-800 mb-1">1,406 <span
                                    class="text-lg text-gray-dark ml-1">件</span></div>
                            <div class="flex items-center gap-1 text-sm text-yellow-800 mb-1">
                                <span>相比減少 8.34%</span>
                                <i class="fas fa-arrow-down w-3 h-3"></i>
                            </div>
                            <div class="text-sm text-gray-medium">112年案件 1534 件</div>
                        </div>
                        <!-- 捉蛇案件數量 -->
                        <div class="border border-primary rounded-lg p-3 flex-1 min-w-[180px]">
                            <div class="text-lg font-bold text-gray-dark mb-2">捉蛇案件數量</div>
                            <div class="text-4xl font-bold text-secondary mb-1">1,109 <span
                                    class="text-lg text-gray-dark ml-1">件</span></div>
                            <div class="flex items-center gap-1 text-sm text-primary mb-1">
                                <span>相比減少 5.93%</span>
                                <i class="fas fa-arrow-down w-3 h-3"></i>
                            </div>
                            <div class="text-sm text-gray-medium">112年案件 1179 件</div>
                        </div>
                        <!-- 動物救援案件數量 -->
                        <div class="border border-accent rounded-lg p-3 flex-1 min-w-[180px]">
                            <div class="text-lg font-bold text-gray-dark mb-2">動物救援案件數量</div>
                            <div class="text-4xl font-bold text-gray-800 mb-1">9,000 <span
                                    class="text-lg text-gray-dark ml-1">件</span></div>
                            <div class="flex items-center gap-1 text-sm text-accent mb-1">
                                <span>相比減少 5.26%</span>
                                <i class="fas fa-arrow-down w-3 h-3"></i>
                            </div>
                            <div class="text-sm text-gray-medium">112年案件 9500 件</div>
                        </div>
                        <!-- 綠鬣蜥案件數量 -->
                        <div class="border border-green-light rounded-lg p-3 flex-1 min-w-[180px]">
                            <div class="text-lg font-bold text-gray-dark mb-2">綠鬣蜥案件數量</div>
                            <div class="text-4xl font-bold text-green-800 mb-1">320 <span
                                    class="text-lg text-gray-dark ml-1">件</span></div>
                            <div class="flex items-center gap-1 text-sm text-green-800 mb-1">
                                <span>相比增加 12.5%</span>
                                <i class="fas fa-arrow-up w-3 h-3"></i>
                            </div>
                            <div class="text-sm text-gray-medium">112年案件 285 件</div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        // 案件列表 Tab 切換
        const tabs = document.querySelectorAll('#caseTabs button');
        const cards = document.querySelectorAll('#caseList .case-card');
        function showTab(status) {
            tabs.forEach(t => {
                t.classList.remove('border-secondary', 'text-secondary', 'font-bold');
                t.classList.add('border-transparent', 'text-gray-medium');
                if (t.getAttribute('data-tab') === status) {
                    t.classList.remove('border-transparent', 'text-gray-medium');
                    t.classList.add('border-secondary', 'text-secondary', 'font-bold');
                }
            });

            // 先隱藏所有案件
            cards.forEach(card => {
                card.classList.add('hidden');
            });

            // 找到符合條件的案件並限制顯示數量為3筆
            let visibleCount = 0;
            const maxVisible = 3;

            cards.forEach(card => {
                if (visibleCount >= maxVisible) return;

                if (status === 'all') {
                    card.classList.remove('hidden');
                    visibleCount++;
                } else if (card.getAttribute('data-status') === status) {
                    card.classList.remove('hidden');
                    visibleCount++;
                }
            });
        }
        tabs.forEach(tab => {
            tab.addEventListener('click', function () {
                showTab(this.getAttribute('data-tab'));
            });
        });
        // 預設顯示全部
        showTab('all');

        // 地圖縮放功能
        let currentZoom = 1;
        const mapImage = document.getElementById('mapImage');
        const zoomInBtn = document.getElementById('zoomIn');
        const zoomOutBtn = document.getElementById('zoomOut');
        const resetZoomBtn = document.getElementById('resetZoom');
        const minZoom = 0.5;
        const maxZoom = 3;
        const zoomStep = 0.2;

        function updateMapZoom() {
            mapImage.style.transform = `scale(${currentZoom})`;
        }

        zoomInBtn.addEventListener('click', function () {
            if (currentZoom < maxZoom) {
                currentZoom += zoomStep;
                updateMapZoom();
            }
        });

        zoomOutBtn.addEventListener('click', function () {
            if (currentZoom > minZoom) {
                currentZoom -= zoomStep;
                updateMapZoom();
            }
        });

        resetZoomBtn.addEventListener('click', function () {
            currentZoom = 1;
            updateMapZoom();
        });

        // 滑鼠滾輪縮放
        mapImage.addEventListener('wheel', function (e) {
            e.preventDefault();
            const delta = e.deltaY > 0 ? -zoomStep : zoomStep;
            const newZoom = currentZoom + delta;

            if (newZoom >= minZoom && newZoom <= maxZoom) {
                currentZoom = newZoom;
                updateMapZoom();
            }
        });

        // 年度下拉選單互動
        const yearBtn = document.getElementById('yearSelectBtn');
        const yearList = document.getElementById('yearSelectList');
        const yearValue = document.getElementById('yearSelectValue');
        yearBtn.addEventListener('click', function (e) {
            e.preventDefault();
            yearList.classList.toggle('hidden');
        });
        yearList.querySelectorAll('li').forEach(li => {
            li.addEventListener('click', function () {
                yearValue.textContent = this.dataset.value;
                yearList.classList.add('hidden');
            });
        });
        document.addEventListener('click', function (e) {
            if (!yearBtn.contains(e.target) && !yearList.contains(e.target)) {
                yearList.classList.add('hidden');
            }
        });

        // 起始月份下拉選單互動
        const monthStartBtn = document.getElementById('monthStartBtn');
        const monthStartList = document.getElementById('monthStartList');
        const monthStartValue = document.getElementById('monthStartValue');
        monthStartBtn.addEventListener('click', function (e) {
            e.preventDefault();
            monthStartList.classList.toggle('hidden');
        });
        monthStartList.querySelectorAll('li').forEach(li => {
            li.addEventListener('click', function () {
                monthStartValue.textContent = this.dataset.value;
                monthStartList.classList.add('hidden');
            });
        });
        document.addEventListener('click', function (e) {
            if (!monthStartBtn.contains(e.target) && !monthStartList.contains(e.target)) {
                monthStartList.classList.add('hidden');
            }
        });
        // 結束月份下拉選單互動
        const monthEndBtn = document.getElementById('monthEndBtn');
        const monthEndList = document.getElementById('monthEndList');
        const monthEndValue = document.getElementById('monthEndValue');
        monthEndBtn.addEventListener('click', function (e) {
            e.preventDefault();
            monthEndList.classList.toggle('hidden');
        });
        monthEndList.querySelectorAll('li').forEach(li => {
            li.addEventListener('click', function () {
                monthEndValue.textContent = this.dataset.value;
                monthEndList.classList.add('hidden');
            });
        });
        document.addEventListener('click', function (e) {
            if (!monthEndBtn.contains(e.target) && !monthEndList.contains(e.target)) {
                monthEndList.classList.add('hidden');
            }
        });
    </script>
</body>

</html>